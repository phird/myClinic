import{aS as D,am as T,aT as oe,r as m,j as e,n as l,a3 as ue,a4 as h,a5 as f,aU as de,i as me,M as B,L as q,aV as I,B as pe,U as G,D as J,s as K,t as C,f as he,ad as M,al as ve,$ as be,af as ge,Y as L,Z as x}from"./index.3d4f9967.js";import{S as Ne,A as fe,D as xe,a as ye,b as Ce,R as Se,c as F,U as Pe,d as Ee}from"./StatsHorizontal.2b029ab9.js";import{a as Q,s as j,F as Y,A as V,U as X,S as Ue,G as we,h as ke,j as De,k as Te}from"./App.8b0d2a9d.js";import{S as R}from"./react-select.esm.710e7858.js";import{u as Ae,C as w}from"./index.esm.a3ec6cec.js";import{M as Fe}from"./more-vertical.bdfeef8b.js";import{T as je,E as H}from"./trash-2.c701fd52.js";import{Q as Re,C as ze,P as Ie}from"./react-dataTable-component.76949763.js";/* empty css                  */import{B as Be}from"./index.e799b220.js";const z=D("appUsers/getAllData",async()=>(await T.get("/api/users/list/all-data")).data),v=D("appUsers/getData",async a=>{const s=await T.get("/api/users/list/data",a);return{params:a,data:s.data.users,totalPages:s.data.total}}),O=D("appUsers/getUser",async a=>(await T.get("/api/users/user",{id:a})).data.user),Oe=D("appUsers/addUser",async(a,{dispatch:s,getState:r})=>(await T.post("/apps/users/add-user",a),await s(v(r().users.params)),await s(z()),a)),Le=D("appUsers/deleteUser",async(a,{dispatch:s,getState:r})=>(await T.delete("/apps/users/delete",{id:a}),await s(v(r().users.params)),await s(z()),a));oe({name:"appUsers",initialState:{data:[],total:1,params:{},allData:[],selectedUser:null},reducers:{},extraReducers:a=>{a.addCase(z.fulfilled,(s,r)=>{s.allData=r.payload}).addCase(v.fulfilled,(s,r)=>{s.data=r.payload.data,s.params=r.payload.params,s.total=r.payload.totalPages}).addCase(O.fulfilled,(s,r)=>{s.selectedUser=r.payload})}});const W={email:"",contact:"",company:"",fullName:"",username:"",country:null},$e=[{label:"Australia",value:"Australia"},{label:"Bangladesh",value:"Bangladesh"},{label:"Belarus",value:"Belarus"},{label:"Brazil",value:"Brazil"},{label:"Canada",value:"Canada"},{label:"China",value:"China"},{label:"France",value:"France"},{label:"Germany",value:"Germany"},{label:"India",value:"India"},{label:"Indonesia",value:"Indonesia"},{label:"Israel",value:"Israel"},{label:"Italy",value:"Italy"},{label:"Japan",value:"Japan"},{label:"Korea",value:"Korea"},{label:"Mexico",value:"Mexico"},{label:"Philippines",value:"Philippines"},{label:"Russia",value:"Russia"},{label:"South",value:"South"},{label:"Thailand",value:"Thailand"},{label:"Turkey",value:"Turkey"},{label:"Ukraine",value:"Ukraine"},{label:"United Arab Emirates",value:"United Arab Emirates"},{label:"United Kingdom",value:"United Kingdom"},{label:"United States",value:"United States"}],qe=a=>Object.values(a).every(s=>typeof s=="object"?s!==null:s.length>0),Me=({open:a,toggleSidebar:s})=>{const[r,k]=m.exports.useState(null),[d,P]=m.exports.useState("basic"),[u,E]=m.exports.useState("subscriber"),o=Q(),{control:c,setValue:i,setError:b,handleSubmit:S,formState:{errors:g}}=Ae({defaultValues:W});return e(Ne,{size:"lg",open:a,title:"New User",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:s,onClosed:()=>{for(const t in W)i(t,"");E("subscriber"),P("basic")},children:l(ue,{onSubmit:S(t=>{if(k(t),qe(t))s(),o(Oe({role:u,avatar:"",status:"active",email:t.email,currentPlan:d,billing:"auto debit",company:t.company,contact:t.contact,fullName:t.fullName,username:t.username,country:t.country.value}));else for(const U in t)t[U]===null&&b("country",{type:"manual"}),t[U]!==null&&t[U].length===0&&b(U,{type:"manual"})}),children:[l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"fullName",children:["Full Name ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"fullName",control:c,render:({field:t})=>e(f,{id:"fullName",placeholder:"John Doe",invalid:g.fullName&&!0,...t})})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"username",children:["Username ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"username",control:c,render:({field:t})=>e(f,{id:"username",placeholder:"johnDoe99",invalid:g.username&&!0,...t})})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"userEmail",children:["Email ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"email",control:c,render:({field:t})=>e(f,{type:"email",id:"userEmail",placeholder:"john.doe@example.com",invalid:g.email&&!0,...t})}),e(de,{color:"muted",children:"You can use letters, numbers & periods"})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"contact",children:["Contact ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"contact",control:c,render:({field:t})=>e(f,{id:"contact",placeholder:"(397) 294-5153",invalid:g.contact&&!0,...t})})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"company",children:["Company ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"company",control:c,render:({field:t})=>e(f,{id:"company",placeholder:"Company Pvt Ltd",invalid:g.company&&!0,...t})})]}),l("div",{className:"mb-1",children:[l(h,{className:"form-label",for:"country",children:["Country ",e("span",{className:"text-danger",children:"*"})]}),e(w,{name:"country",control:c,render:({field:t})=>e(R,{isClearable:!1,classNamePrefix:"select",options:$e,theme:j,className:me("react-select",{"is-invalid":r!==null&&r.country===null}),...t})})]}),l("div",{className:"mb-1",children:[e(h,{className:"form-label",for:"user-role",children:"User Role"}),l(f,{type:"select",id:"user-role",name:"user-role",value:u,onChange:t=>E(t.target.value),children:[e("option",{value:"subscriber",children:"Subscriber"}),e("option",{value:"editor",children:"Editor"}),e("option",{value:"maintainer",children:"Maintainer"}),e("option",{value:"author",children:"Author"}),e("option",{value:"admin",children:"Admin"})]})]}),l("div",{className:"mb-1",value:d,onChange:t=>P(t.target.value),children:[e(h,{className:"form-label",for:"select-plan",children:"Select Plan"}),l(f,{type:"select",id:"select-plan",name:"select-plan",children:[e("option",{value:"basic",children:"Basic"}),e("option",{value:"enterprise",children:"Enterprise"}),e("option",{value:"company",children:"Company"}),e("option",{value:"team",children:"Team"})]})]}),e(B,{type:"submit",className:"me-1",color:"primary",children:"Submit"}),e(B,{type:"reset",color:"secondary",outline:!0,onClick:s,children:"Cancel"})]})})},Ve=a=>a.avatar.length?e(V,{className:"me-1",img:a.avatar,width:"32",height:"32"}):e(V,{initials:!0,className:"me-1",color:a.avatarColor||"light-primary",content:a.fullName||"John Doe"}),He=a=>{const s={subscriber:{class:"text-primary",icon:X},maintainer:{class:"text-success",icon:xe},editor:{class:"text-info",icon:H},author:{class:"text-warning",icon:Ue},admin:{class:"text-danger",icon:ye}},r=s[a.role]?s[a.role].icon:H;return l("span",{className:"text-truncate text-capitalize align-middle",children:[e(r,{size:18,className:`${s[a.role]?s[a.role].class:""} me-50`}),a.role]})},We={pending:"light-warning",active:"light-success",inactive:"light-secondary"},Ge=[{name:"User",sortable:!0,minWidth:"300px",sortField:"fullName",selector:a=>a.fullName,cell:a=>l("div",{className:"d-flex justify-content-left align-items-center",children:[Ve(a),l("div",{className:"d-flex flex-column",children:[e(q,{to:`/apps/user/view/${a.id}`,className:"user_name text-truncate text-body",onClick:()=>I.dispatch(O(a.id)),children:e("span",{className:"fw-bolder",children:a.fullName})}),e("small",{className:"text-truncate text-muted mb-0",children:a.email})]})]})},{name:"Role",sortable:!0,minWidth:"172px",sortField:"role",selector:a=>a.role,cell:a=>He(a)},{name:"Plan",minWidth:"138px",sortable:!0,sortField:"currentPlan",selector:a=>a.currentPlan,cell:a=>e("span",{className:"text-capitalize",children:a.currentPlan})},{name:"Billing",minWidth:"230px",sortable:!0,sortField:"billing",selector:a=>a.billing,cell:a=>e("span",{className:"text-capitalize",children:a.billing})},{name:"Status",minWidth:"138px",sortable:!0,sortField:"status",selector:a=>a.status,cell:a=>e(pe,{className:"text-capitalize",color:We[a.status],pill:!0,children:a.status})},{name:"Actions",minWidth:"100px",cell:a=>e("div",{className:"column-action",children:l(G,{children:[e(J,{tag:"div",className:"btn btn-sm",children:e(Fe,{size:14,className:"cursor-pointer"})}),l(K,{children:[l(C,{tag:q,className:"w-100",to:`/apps/user/view/${a.id}`,onClick:()=>I.dispatch(O(a.id)),children:[e(Y,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Details"})]}),l(C,{tag:"a",href:"/",className:"w-100",onClick:s=>s.preventDefault(),children:[e(fe,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Edit"})]}),l(C,{tag:"a",href:"/",className:"w-100",onClick:s=>{s.preventDefault(),I.dispatch(Le(a.id))},children:[e(je,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Delete"})]})]})]})})}],Je=({store:a,toggleSidebar:s,handlePerPage:r,rowsPerPage:k,handleFilter:d,searchTerm:P})=>{function u(o){let c;const i=",",b=`
`,S=Object.keys(a.data[0]);return c="",c+=S.join(i),c+=b,o.forEach(g=>{let p=0;S.forEach(A=>{p>0&&(c+=i),c+=g[A],p++}),c+=b}),c}function E(o){const c=document.createElement("a");let i=u(o);if(i===null)return;const b="export.csv";i.match(/^data:text\/csv/i)||(i=`data:text/csv;charset=utf-8,${i}`),c.setAttribute("href",encodeURI(i)),c.setAttribute("download",b),c.click()}return e("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:l(L,{children:[e(x,{xl:"6",className:"d-flex align-items-center p-0",children:l("div",{className:"d-flex align-items-center w-100",children:[e("label",{htmlFor:"rows-per-page",children:"Show"}),l(f,{className:"mx-50",type:"select",id:"rows-per-page",value:k,onChange:r,style:{width:"5rem"},children:[e("option",{value:"10",children:"10"}),e("option",{value:"25",children:"25"}),e("option",{value:"50",children:"50"})]}),e("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),l(x,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[l("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[e("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),e(f,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:P,onChange:o=>d(o.target.value)})]}),l("div",{className:"d-flex align-items-center table-header-actions",children:[l(G,{className:"me-1",children:[l(J,{color:"secondary",caret:!0,outline:!0,children:[e(Ce,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Export"})]}),l(K,{children:[l(C,{className:"w-100",children:[e(Ie,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Print"})]}),l(C,{className:"w-100",onClick:()=>E(a.data),children:[e(Y,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"CSV"})]}),l(C,{className:"w-100",children:[e(we,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Excel"})]}),l(C,{className:"w-100",children:[e(ke,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"PDF"})]}),l(C,{className:"w-100",children:[e(De,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Copy"})]})]})]}),e(B,{className:"add-new-user",color:"primary",onClick:s,children:"Add New User"})]})]})]})})},Ke=()=>{const a=Q(),s=he(n=>n.users),[r,k]=m.exports.useState("desc"),[d,P]=m.exports.useState(""),[u,E]=m.exports.useState(1),[o,c]=m.exports.useState("id"),[i,b]=m.exports.useState(10),[S,g]=m.exports.useState(!1),[p,A]=m.exports.useState({value:"",label:"Select Role"}),[t,U]=m.exports.useState({value:"",label:"Select Plan"}),[N,Z]=m.exports.useState({value:"",label:"Select Status",number:0}),$=()=>g(!S);m.exports.useEffect(()=>{a(z()),a(v({sort:r,sortColumn:o,q:d,page:u,perPage:i,role:p.value,status:N.value,currentPlan:t.value}))},[a,s.data.length,r,o,u]);const _=[{value:"",label:"Select Role"},{value:"admin",label:"Admin"},{value:"author",label:"Author"},{value:"editor",label:"Editor"},{value:"maintainer",label:"Maintainer"},{value:"subscriber",label:"Subscriber"}],ee=[{value:"",label:"Select Plan"},{value:"basic",label:"Basic"},{value:"company",label:"Company"},{value:"enterprise",label:"Enterprise"},{value:"team",label:"Team"}],ae=[{value:"",label:"Select Status",number:0},{value:"pending",label:"Pending",number:1},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3}],le=n=>{a(v({sort:r,sortColumn:o,q:d,perPage:i,page:n.selected+1,role:p.value,status:N.value,currentPlan:t.value})),E(n.selected+1)},se=n=>{const y=parseInt(n.currentTarget.value);a(v({sort:r,sortColumn:o,q:d,perPage:y,page:u,role:p.value,currentPlan:t.value,status:N.value})),b(y)},te=n=>{P(n),a(v({sort:r,q:n,sortColumn:o,page:u,perPage:i,role:p.value,status:N.value,currentPlan:t.value}))},re=()=>{const n=Number(Math.ceil(s.total/i));return e(Se,{previousLabel:"",nextLabel:"",pageCount:n||1,activeClassName:"active",forcePage:u!==0?u-1:0,onPageChange:y=>le(y),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},ne=()=>{const n={role:p.value,currentPlan:t.value,status:N.value,q:d},y=Object.keys(n).some(function(ce){return n[ce].length>0});return s.data.length>0?s.data:s.data.length===0&&y?[]:s.allData.slice(0,i)},ie=(n,y)=>{k(y),c(n.sortField),a(v({sort:r,sortColumn:o,q:d,page:u,perPage:i,role:p.value,status:N.value,currentPlan:t.value}))};return l(m.exports.Fragment,{children:[l(M,{children:[e(ve,{children:e(be,{tag:"h4",children:"Filters"})}),e(ge,{children:l(L,{children:[l(x,{md:"4",children:[e(h,{for:"role-select",children:"Role"}),e(R,{isClearable:!1,value:p,options:_,className:"react-select",classNamePrefix:"select",theme:j,onChange:n=>{A(n),a(v({sort:r,sortColumn:o,q:d,role:n.value,page:u,perPage:i,status:N.value,currentPlan:t.value}))}})]}),l(x,{className:"my-md-0 my-1",md:"4",children:[e(h,{for:"plan-select",children:"Plan"}),e(R,{theme:j,isClearable:!1,className:"react-select",classNamePrefix:"select",options:ee,value:t,onChange:n=>{U(n),a(v({sort:r,sortColumn:o,q:d,page:u,perPage:i,role:p.value,currentPlan:n.value,status:N.value}))}})]}),l(x,{md:"4",children:[e(h,{for:"status-select",children:"Status"}),e(R,{theme:j,isClearable:!1,className:"react-select",classNamePrefix:"select",options:ae,value:N,onChange:n=>{Z(n),a(v({sort:r,sortColumn:o,q:d,page:u,status:n.value,perPage:i,role:p.value,currentPlan:t.value}))}})]})]})})]}),e(M,{className:"overflow-hidden",children:e("div",{className:"react-dataTable",children:e(Re,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:Ge,onSort:ie,sortIcon:e(ze,{}),className:"react-dataTable",paginationComponent:re,data:ne(),subHeaderComponent:e(Je,{store:s,searchTerm:d,rowsPerPage:i,handleFilter:te,handlePerPage:se,toggleSidebar:$})})})}),e(Me,{open:S,toggleSidebar:$})]})},ra=()=>l("div",{className:"app-user-list",children:[e(Be,{title:"\u0E01\u0E32\u0E23\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E22\u0E32",data:[{title:"\u0E1A\u0E23\u0E34\u0E01\u0E32\u0E23"},{title:"\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E22\u0E32"}]}),l(L,{children:[e(x,{lg:"3",sm:"6",children:e(F,{color:"primary",statTitle:"Total Users",icon:e(X,{size:20}),renderStats:e("h3",{className:"fw-bolder mb-75",children:"21,459"})})}),e(x,{lg:"3",sm:"6",children:e(F,{color:"danger",statTitle:"Paid Users",icon:e(Pe,{size:20}),renderStats:e("h3",{className:"fw-bolder mb-75",children:"4,567"})})}),e(x,{lg:"3",sm:"6",children:e(F,{color:"success",statTitle:"Active Users",icon:e(Te,{size:20}),renderStats:e("h3",{className:"fw-bolder mb-75",children:"19,860"})})}),e(x,{lg:"3",sm:"6",children:e(F,{color:"warning",statTitle:"Pending Users",icon:e(Ee,{size:20}),renderStats:e("h3",{className:"fw-bolder mb-75",children:"237"})})})]}),e(Ke,{})]});export{ra as default};

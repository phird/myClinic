import{aa as k}from"./index.3d4f9967.js";var re=e=>e.type==="checkbox",Q=e=>e instanceof Date,U=e=>e==null;const Je=e=>typeof e=="object";var L=e=>!U(e)&&!Array.isArray(e)&&Je(e)&&!Q(e),Qe=e=>L(e)&&e.target?re(e.target)?e.target.checked:e.target.value:e,bt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Xe=(e,i)=>e.has(bt(i)),se=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,c=(e,i,s)=>{if(!i||!L(e))return s;const l=se(i.split(/[,[\].]+?/)).reduce((r,u)=>U(r)?r:r[u],e);return C(l)||l===e?C(e[i])?s:e[i]:l};const fe={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},j={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},At=k.createContext(null),Ee=()=>k.useContext(At);var Ye=(e,i,s,l=!0)=>{const r={defaultValues:i._defaultValues};for(const u in e)Object.defineProperty(r,u,{get:()=>{const d=u;return i._proxyFormState[d]!==q.all&&(i._proxyFormState[d]=!l||q.all),s&&(s[d]=!0),e[d]}});return r},B=e=>L(e)&&!Object.keys(e).length,Ze=(e,i,s)=>{const{name:l,...r}=e;return B(r)||Object.keys(r).length>=Object.keys(i).length||Object.keys(r).find(u=>i[u]===(!s||q.all))},oe=e=>Array.isArray(e)?e:[e],et=(e,i,s)=>s&&i?e===i:!e||!i||e===i||oe(e).some(l=>l&&(l.startsWith(i)||i.startsWith(l)));function Ce(e){const i=k.useRef(e);i.current=e,k.useEffect(()=>{const s=!e.disabled&&i.current.subject.subscribe({next:i.current.next});return()=>{s&&s.unsubscribe()}},[e.disabled])}function Ft(e){const i=Ee(),{control:s=i.control,disabled:l,name:r,exact:u}=e||{},[d,h]=k.useState(s._formState),_=k.useRef(!0),v=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),x=k.useRef(r);return x.current=r,Ce({disabled:l,next:V=>_.current&&et(x.current,V.name,u)&&Ze(V,v.current)&&h({...s._formState,...V}),subject:s._subjects.state}),k.useEffect(()=>{_.current=!0;const V=s._proxyFormState.isDirty&&s._getDirty();return V!==s._formState.isDirty&&s._subjects.state.next({isDirty:V}),s._updateValid(),()=>{_.current=!1}},[s]),Ye(d,s,v.current,!1)}var H=e=>typeof e=="string",tt=(e,i,s,l,r)=>H(e)?(l&&i.watch.add(e),c(s,e,r)):Array.isArray(e)?e.map(u=>(l&&i.watch.add(u),c(s,u))):(l&&(i.watchAll=!0),s),mt=e=>{const i=e.constructor&&e.constructor.prototype;return L(i)&&i.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $(e){let i;const s=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Oe&&(e instanceof Blob||e instanceof FileList))&&(s||L(e)))if(i=s?[]:{},!Array.isArray(e)&&!mt(e))i=e;else for(const l in e)i[l]=$(e[l]);else return e;return i}function xt(e){const i=Ee(),{control:s=i.control,name:l,defaultValue:r,disabled:u,exact:d}=e||{},h=k.useRef(l);h.current=l,Ce({disabled:u,subject:s._subjects.watch,next:x=>{et(h.current,x.name,d)&&v($(tt(h.current,s._names,x.values||s._formValues,!1,r)))}});const[_,v]=k.useState(s._getWatch(l,r));return k.useEffect(()=>s._removeUnmounted()),_}function wt(e){const i=Ee(),{name:s,control:l=i.control,shouldUnregister:r}=e,u=Xe(l._names.array,s),d=xt({control:l,name:s,defaultValue:c(l._formValues,s,c(l._defaultValues,s,e.defaultValue)),exact:!0}),h=Ft({control:l,name:s}),_=k.useRef(l.register(s,{...e.rules,value:d}));return k.useEffect(()=>{const v=(x,V)=>{const D=c(l._fields,x);D&&(D._f.mount=V)};return v(s,!0),()=>{const x=l._options.shouldUnregister||r;(u?x&&!l._stateFlags.action:x)?l.unregister(s):v(s,!1)}},[s,l,u,r]),{field:{name:s,value:d,onChange:k.useCallback(v=>_.current.onChange({target:{value:Qe(v),name:s},type:fe.CHANGE}),[s]),onBlur:k.useCallback(()=>_.current.onBlur({target:{value:c(l._formValues,s),name:s},type:fe.BLUR}),[s,l]),ref:v=>{const x=c(l._fields,s);x&&v&&(x._f.ref={focus:()=>v.focus(),select:()=>v.select(),setCustomValidity:V=>v.setCustomValidity(V),reportValidity:()=>v.reportValidity()})}},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(h.errors,s)},isDirty:{enumerable:!0,get:()=>!!c(h.dirtyFields,s)},isTouched:{enumerable:!0,get:()=>!!c(h.touchedFields,s)},error:{enumerable:!0,get:()=>c(h.errors,s)}})}}const Bt=e=>e.render(wt(e));var Vt=(e,i,s,l,r)=>i?{...s[e],types:{...s[e]&&s[e].types?s[e].types:{},[l]:r||!0}}:{},Le=e=>/^\w*$/.test(e),rt=e=>se(e.replace(/["|']|\]/g,"").split(/\.|\[/));function w(e,i,s){let l=-1;const r=Le(i)?[i]:rt(i),u=r.length,d=u-1;for(;++l<u;){const h=r[l];let _=s;if(l!==d){const v=e[h];_=L(v)||Array.isArray(v)?v:isNaN(+r[l+1])?{}:[]}e[h]=_,e=e[h]}return e}const ke=(e,i,s)=>{for(const l of s||Object.keys(e)){const r=c(e,l);if(r){const{_f:u,...d}=r;if(u&&i(u.name)){if(u.ref.focus){u.ref.focus();break}else if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else L(d)&&ke(d,i)}}};var qe=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched}),We=(e,i,s)=>!s&&(i.watchAll||i.watch.has(e)||[...i.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length)))),Dt=(e,i,s)=>{const l=se(c(e,s));return w(l,"root",i[s]),w(e,s,l),e},X=e=>typeof e=="boolean",Re=e=>e.type==="file",Y=e=>typeof e=="function",de=e=>{if(!Oe)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},ce=e=>H(e)||k.isValidElement(e),Te=e=>e.type==="radio",ye=e=>e instanceof RegExp;const He={value:!1,isValid:!1},je={value:!0,isValid:!0};var st=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(s=>s&&s.checked&&!s.disabled).map(s=>s.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?je:{value:e[0].value,isValid:!0}:je:He}return He};const $e={isValid:!1,value:null};var it=e=>Array.isArray(e)?e.reduce((i,s)=>s&&s.checked&&!s.disabled?{isValid:!0,value:s.value}:i,$e):$e;function Ke(e,i,s="validate"){if(ce(e)||Array.isArray(e)&&e.every(ce)||X(e)&&!e)return{type:s,message:ce(e)?e:"",ref:i}}var J=e=>L(e)&&!ye(e)?e:{value:e,message:""},Ge=async(e,i,s,l,r)=>{const{ref:u,refs:d,required:h,maxLength:_,minLength:v,min:x,max:V,pattern:D,validate:b,name:P,valueAsNumber:ve,mount:ie,disabled:_e}=e._f;if(!ie||_e)return{};const M=d?d[0]:u,N=A=>{l&&M.reportValidity&&(M.setCustomValidity(X(A)?"":A||""),M.reportValidity())},O={},ne=Te(u),Z=re(u),ae=ne||Z,z=(ve||Re(u))&&C(u.value)&&C(i)||de(u)&&u.value===""||i===""||Array.isArray(i)&&!i.length,I=Vt.bind(null,P,s,O),ue=(A,F,m,R=j.maxLength,W=j.minLength)=>{const p=A?F:m;O[P]={type:A?R:W,message:p,ref:u,...I(A?R:W,p)}};if(r?!Array.isArray(i)||!i.length:h&&(!ae&&(z||U(i))||X(i)&&!i||Z&&!st(d).isValid||ne&&!it(d).isValid)){const{value:A,message:F}=ce(h)?{value:!!h,message:h}:J(h);if(A&&(O[P]={type:j.required,message:F,ref:M,...I(j.required,F)},!s))return N(F),O}if(!z&&(!U(x)||!U(V))){let A,F;const m=J(V),R=J(x);if(!U(i)&&!isNaN(i)){const W=u.valueAsNumber||i&&+i;U(m.value)||(A=W>m.value),U(R.value)||(F=W<R.value)}else{const W=u.valueAsDate||new Date(i),p=le=>new Date(new Date().toDateString()+" "+le),ee=u.type=="time",K=u.type=="week";H(m.value)&&i&&(A=ee?p(i)>p(m.value):K?i>m.value:W>new Date(m.value)),H(R.value)&&i&&(F=ee?p(i)<p(R.value):K?i<R.value:W<new Date(R.value))}if((A||F)&&(ue(!!A,m.message,R.message,j.max,j.min),!s))return N(O[P].message),O}if((_||v)&&!z&&(H(i)||r&&Array.isArray(i))){const A=J(_),F=J(v),m=!U(A.value)&&i.length>A.value,R=!U(F.value)&&i.length<F.value;if((m||R)&&(ue(m,A.message,F.message),!s))return N(O[P].message),O}if(D&&!z&&H(i)){const{value:A,message:F}=J(D);if(ye(A)&&!i.match(A)&&(O[P]={type:j.pattern,message:F,ref:u,...I(j.pattern,F)},!s))return N(F),O}if(b){if(Y(b)){const A=await b(i),F=Ke(A,M);if(F&&(O[P]={...F,...I(j.validate,F.message)},!s))return N(F.message),O}else if(L(b)){let A={};for(const F in b){if(!B(A)&&!s)break;const m=Ke(await b[F](i),M,F);m&&(A={...m,...I(F,m.message)},N(m.message),s&&(O[P]=A))}if(!B(A)&&(O[P]={ref:M,...A},!s))return O}}return N(!0),O};function St(e,i){const s=i.slice(0,-1).length;let l=0;for(;l<s;)e=C(e)?l++:e[i[l++]];return e}function kt(e){for(const i in e)if(!C(e[i]))return!1;return!0}function T(e,i){const s=Le(i)?[i]:rt(i),l=s.length==1?e:St(e,s),r=s[s.length-1];let u;l&&delete l[r];for(let d=0;d<s.slice(0,-1).length;d++){let h=-1,_;const v=s.slice(0,-(d+1)),x=v.length-1;for(d>0&&(u=e);++h<v.length;){const V=v[h];_=_?_[V]:e[V],x===h&&(L(_)&&B(_)||Array.isArray(_)&&kt(_))&&(u?delete u[V]:delete e[V]),u=_}}return e}function we(){let e=[];return{get observers(){return e},next:r=>{for(const u of e)u.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(u=>u!==r)}}),unsubscribe:()=>{e=[]}}}var he=e=>U(e)||!Je(e);function G(e,i){if(he(e)||he(i))return e===i;if(Q(e)&&Q(i))return e.getTime()===i.getTime();const s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(const r of s){const u=e[r];if(!l.includes(r))return!1;if(r!=="ref"){const d=i[r];if(Q(u)&&Q(d)||L(u)&&L(d)||Array.isArray(u)&&Array.isArray(d)?!G(u,d):u!==d)return!1}}return!0}var nt=e=>e.type==="select-multiple",Et=e=>Te(e)||re(e),Ve=e=>de(e)&&e.isConnected,at=e=>{for(const i in e)if(Y(e[i]))return!0;return!1};function ge(e,i={}){const s=Array.isArray(e);if(L(e)||s)for(const l in e)Array.isArray(e[l])||L(e[l])&&!at(e[l])?(i[l]=Array.isArray(e[l])?[]:{},ge(e[l],i[l])):U(e[l])||(i[l]=!0);return i}function ut(e,i,s){const l=Array.isArray(e);if(L(e)||l)for(const r in e)Array.isArray(e[r])||L(e[r])&&!at(e[r])?C(i)||he(s[r])?s[r]=Array.isArray(e[r])?ge(e[r],[]):{...ge(e[r])}:ut(e[r],U(i)?{}:i[r],s[r]):G(e[r],i[r])?delete s[r]:s[r]=!0;return s}var De=(e,i)=>ut(e,i,ge(i)),lt=(e,{valueAsNumber:i,valueAsDate:s,setValueAs:l})=>C(e)?e:i?e===""?NaN:e&&+e:s&&H(e)?new Date(e):l?l(e):e;function Se(e){const i=e.ref;if(!(e.refs?e.refs.every(s=>s.disabled):i.disabled))return Re(i)?i.files:Te(i)?it(e.refs).value:nt(i)?[...i.selectedOptions].map(({value:s})=>s):re(i)?st(e.refs).value:lt(C(i.value)?e.ref.value:i.value,e)}var Ct=(e,i,s,l)=>{const r={};for(const u of e){const d=c(i,u);d&&w(r,u,d._f)}return{criteriaMode:s,names:[...e],fields:r,shouldUseNativeValidation:l}},te=e=>C(e)?e:ye(e)?e.source:L(e)?ye(e.value)?e.value.source:e.value:e,Ot=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ze(e,i,s){const l=c(e,s);if(l||Le(s))return{error:l,name:s};const r=s.split(".");for(;r.length;){const u=r.join("."),d=c(i,u),h=c(e,u);if(d&&!Array.isArray(d)&&s!==u)return{name:s};if(h&&h.type)return{name:u,error:h};r.pop()}return{name:s}}var Lt=(e,i,s,l,r)=>r.isOnAll?!1:!s&&r.isOnTouch?!(i||e):(s?l.isOnBlur:r.isOnBlur)?!e:(s?l.isOnChange:r.isOnChange)?e:!0,Rt=(e,i)=>!se(c(e,i)).length&&T(e,i);const Tt={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function Ut(e={},i){let s={...Tt,...e};const l=e.resetOptions&&e.resetOptions.keepDirtyValues;let r={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},u={},d=L(s.defaultValues)?$(s.defaultValues)||{}:{},h=s.shouldUnregister?{}:$(d),_={action:!1,mount:!1,watch:!1},v={mount:new Set,unMount:new Set,array:new Set,watch:new Set},x,V=0;const D={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={watch:we(),array:we(),state:we()},P=qe(s.mode),ve=qe(s.reValidateMode),ie=s.criteriaMode===q.all,_e=t=>n=>{clearTimeout(V),V=window.setTimeout(t,n)},M=async()=>{if(D.isValid){const t=s.resolver?B((await I()).errors):await A(u,!0);t!==r.isValid&&(r.isValid=t,b.state.next({isValid:t}))}},N=t=>D.isValidating&&b.state.next({isValidating:t}),O=(t,n=[],a,f,y=!0,o=!0)=>{if(f&&a){if(_.action=!0,o&&Array.isArray(c(u,t))){const g=a(c(u,t),f.argA,f.argB);y&&w(u,t,g)}if(o&&Array.isArray(c(r.errors,t))){const g=a(c(r.errors,t),f.argA,f.argB);y&&w(r.errors,t,g),Rt(r.errors,t)}if(D.touchedFields&&o&&Array.isArray(c(r.touchedFields,t))){const g=a(c(r.touchedFields,t),f.argA,f.argB);y&&w(r.touchedFields,t,g)}D.dirtyFields&&(r.dirtyFields=De(d,h)),b.state.next({name:t,isDirty:m(t,n),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else w(h,t,n)},ne=(t,n)=>{w(r.errors,t,n),b.state.next({errors:r.errors})},Z=(t,n,a,f)=>{const y=c(u,t);if(y){const o=c(h,t,C(a)?c(d,t):a);C(o)||f&&f.defaultChecked||n?w(h,t,n?o:Se(y._f)):p(t,o),_.mount&&M()}},ae=(t,n,a,f,y)=>{let o=!1,g=!1;const E={name:t};if(!a||f){D.isDirty&&(g=r.isDirty,r.isDirty=E.isDirty=m(),o=g!==E.isDirty);const S=G(c(d,t),n);g=c(r.dirtyFields,t),S?T(r.dirtyFields,t):w(r.dirtyFields,t,!0),E.dirtyFields=r.dirtyFields,o=o||D.dirtyFields&&g!==!S}if(a){const S=c(r.touchedFields,t);S||(w(r.touchedFields,t,a),E.touchedFields=r.touchedFields,o=o||D.touchedFields&&S!==a)}return o&&y&&b.state.next(E),o?E:{}},z=(t,n,a,f)=>{const y=c(r.errors,t),o=D.isValid&&X(n)&&r.isValid!==n;if(e.delayError&&a?(x=_e(()=>ne(t,a)),x(e.delayError)):(clearTimeout(V),x=null,a?w(r.errors,t,a):T(r.errors,t)),(a?!G(y,a):y)||!B(f)||o){const g={...f,...o&&X(n)?{isValid:n}:{},errors:r.errors,name:t};r={...r,...g},b.state.next(g)}N(!1)},I=async t=>await s.resolver(h,s.context,Ct(t||v.mount,u,s.criteriaMode,s.shouldUseNativeValidation)),ue=async t=>{const{errors:n}=await I();if(t)for(const a of t){const f=c(n,a);f?w(r.errors,a,f):T(r.errors,a)}else r.errors=n;return n},A=async(t,n,a={valid:!0})=>{for(const f in t){const y=t[f];if(y){const{_f:o,...g}=y;if(o){const E=v.array.has(o.name),S=await Ge(y,c(h,o.name),ie,s.shouldUseNativeValidation,E);if(S[o.name]&&(a.valid=!1,n))break;!n&&(c(S,o.name)?E?Dt(r.errors,S,o.name):w(r.errors,o.name,S[o.name]):T(r.errors,o.name))}g&&await A(g,n,a)}}return a.valid},F=()=>{for(const t of v.unMount){const n=c(u,t);n&&(n._f.refs?n._f.refs.every(a=>!Ve(a)):!Ve(n._f.ref))&&Ae(t)}v.unMount=new Set},m=(t,n)=>(t&&n&&w(h,t,n),!G(Ue(),d)),R=(t,n,a)=>tt(t,v,{..._.mount?h:C(n)?d:H(t)?{[t]:n}:n},a,n),W=t=>se(c(_.mount?h:d,t,e.shouldUnregister?c(d,t,[]):[])),p=(t,n,a={})=>{const f=c(u,t);let y=n;if(f){const o=f._f;o&&(!o.disabled&&w(h,t,lt(n,o)),y=de(o.ref)&&U(n)?"":n,nt(o.ref)?[...o.ref.options].forEach(g=>g.selected=y.includes(g.value)):o.refs?re(o.ref)?o.refs.length>1?o.refs.forEach(g=>(!g.defaultChecked||!g.disabled)&&(g.checked=Array.isArray(y)?!!y.find(E=>E===g.value):y===g.value)):o.refs[0]&&(o.refs[0].checked=!!y):o.refs.forEach(g=>g.checked=g.value===y):Re(o.ref)?o.ref.value="":(o.ref.value=y,o.ref.type||b.watch.next({name:t})))}(a.shouldDirty||a.shouldTouch)&&ae(t,y,a.shouldTouch,a.shouldDirty,!0),a.shouldValidate&&be(t)},ee=(t,n,a)=>{for(const f in n){const y=n[f],o=`${t}.${f}`,g=c(u,o);(v.array.has(t)||!he(y)||g&&!g._f)&&!Q(y)?ee(o,y,a):p(o,y,a)}},K=(t,n,a={})=>{const f=c(u,t),y=v.array.has(t),o=$(n);w(h,t,o),y?(b.array.next({name:t,values:h}),(D.isDirty||D.dirtyFields)&&a.shouldDirty&&(r.dirtyFields=De(d,h),b.state.next({name:t,dirtyFields:r.dirtyFields,isDirty:m(t,o)}))):f&&!f._f&&!U(o)?ee(t,o,a):p(t,o,a),We(t,v)&&b.state.next({}),b.watch.next({name:t}),!_.mount&&i()},le=async t=>{const n=t.target;let a=n.name;const f=c(u,a),y=()=>n.type?Se(f._f):Qe(t);if(f){let o,g;const E=y(),S=t.type===fe.BLUR||t.type===fe.FOCUS_OUT,gt=!Ot(f._f)&&!s.resolver&&!c(r.errors,a)&&!f._f.deps||Lt(S,c(r.touchedFields,a),r.isSubmitted,ve,P),me=We(a,v,S);w(h,a,E),S?(f._f.onBlur&&f._f.onBlur(t),x&&x(0)):f._f.onChange&&f._f.onChange(t);const xe=ae(a,E,S,!1),vt=!B(xe)||me;if(!S&&b.watch.next({name:a,type:t.type}),gt)return D.isValid&&M(),vt&&b.state.next({name:a,...me?{}:xe});if(!S&&me&&b.state.next({}),N(!0),s.resolver){const{errors:Ie}=await I([a]),_t=ze(r.errors,u,a),pe=ze(Ie,u,_t.name||a);o=pe.error,a=pe.name,g=B(Ie)}else o=(await Ge(f,c(h,a),ie,s.shouldUseNativeValidation))[a],o?g=!1:D.isValid&&(g=await A(u,!0));f._f.deps&&be(f._f.deps),z(a,g,o,xe)}},be=async(t,n={})=>{let a,f;const y=oe(t);if(N(!0),s.resolver){const o=await ue(C(t)?t:y);a=B(o),f=t?!y.some(g=>c(o,g)):a}else t?(f=(await Promise.all(y.map(async o=>{const g=c(u,o);return await A(g&&g._f?{[o]:g}:g)}))).every(Boolean),!(!f&&!r.isValid)&&M()):f=a=await A(u);return b.state.next({...!H(t)||D.isValid&&a!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:a}:{},errors:r.errors,isValidating:!1}),n.shouldFocus&&!f&&ke(u,o=>o&&c(r.errors,o),t?y:v.mount),f},Ue=t=>{const n={...d,..._.mount?h:{}};return C(t)?n:H(t)?c(n,t):t.map(a=>c(n,a))},Me=(t,n)=>({invalid:!!c((n||r).errors,t),isDirty:!!c((n||r).dirtyFields,t),isTouched:!!c((n||r).touchedFields,t),error:c((n||r).errors,t)}),ot=t=>{t?oe(t).forEach(n=>T(r.errors,n)):r.errors={},b.state.next({errors:r.errors})},ct=(t,n,a)=>{const f=(c(u,t,{_f:{}})._f||{}).ref;w(r.errors,t,{...n,ref:f}),b.state.next({name:t,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&f&&f.focus&&f.focus()},ft=(t,n)=>Y(t)?b.watch.subscribe({next:a=>t(R(void 0,n),a)}):R(t,n,!0),Ae=(t,n={})=>{for(const a of t?oe(t):v.mount)v.mount.delete(a),v.array.delete(a),c(u,a)&&(n.keepValue||(T(u,a),T(h,a)),!n.keepError&&T(r.errors,a),!n.keepDirty&&T(r.dirtyFields,a),!n.keepTouched&&T(r.touchedFields,a),!s.shouldUnregister&&!n.keepDefaultValue&&T(d,a));b.watch.next({}),b.state.next({...r,...n.keepDirty?{isDirty:m()}:{}}),!n.keepIsValid&&M()},Fe=(t,n={})=>{let a=c(u,t);const f=X(n.disabled);return w(u,t,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:t}},name:t,mount:!0,...n}}),v.mount.add(t),a?f&&w(h,t,n.disabled?void 0:c(h,t,Se(a._f))):Z(t,!0,n.value),{...f?{disabled:n.disabled}:{},...s.shouldUseNativeValidation?{required:!!n.required,min:te(n.min),max:te(n.max),minLength:te(n.minLength),maxLength:te(n.maxLength),pattern:te(n.pattern)}:{},name:t,onChange:le,onBlur:le,ref:y=>{if(y){Fe(t,n),a=c(u,t);const o=C(y.value)&&y.querySelectorAll&&y.querySelectorAll("input,select,textarea")[0]||y,g=Et(o),E=a._f.refs||[];if(g?E.find(S=>S===o):o===a._f.ref)return;w(u,t,{_f:{...a._f,...g?{refs:[...E.filter(Ve),o,...Array.isArray(c(d,t))?[{}]:[]],ref:{type:o.type,name:t}}:{ref:o}}}),Z(t,!1,void 0,o)}else a=c(u,t,{}),a._f&&(a._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(Xe(v.array,t)&&_.action)&&v.unMount.add(t)}}},Be=()=>s.shouldFocusError&&ke(u,t=>t&&c(r.errors,t),v.mount),dt=(t,n)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let f=!0,y=$(h);b.state.next({isSubmitting:!0});try{if(s.resolver){const{errors:o,values:g}=await I();r.errors=o,y=g}else await A(u);B(r.errors)?(b.state.next({errors:{},isSubmitting:!0}),await t(y,a)):(n&&await n({...r.errors},a),Be())}catch(o){throw f=!1,o}finally{r.isSubmitted=!0,b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:B(r.errors)&&f,submitCount:r.submitCount+1,errors:r.errors})}},yt=(t,n={})=>{c(u,t)&&(C(n.defaultValue)?K(t,c(d,t)):(K(t,n.defaultValue),w(d,t,n.defaultValue)),n.keepTouched||T(r.touchedFields,t),n.keepDirty||(T(r.dirtyFields,t),r.isDirty=n.defaultValue?m(t,c(d,t)):m()),n.keepError||(T(r.errors,t),D.isValid&&M()),b.state.next({...r}))},Pe=(t,n={})=>{const a=t||d,f=$(a),y=t&&!B(t)?f:d;if(n.keepDefaultValues||(d=a),!n.keepValues){if(n.keepDirtyValues||l)for(const o of v.mount)c(r.dirtyFields,o)?w(y,o,c(h,o)):K(o,c(y,o));else{if(Oe&&C(t))for(const o of v.mount){const g=c(u,o);if(g&&g._f){const E=Array.isArray(g._f.refs)?g._f.refs[0]:g._f.ref;if(de(E)){const S=E.closest("form");if(S){S.reset();break}}}}u={}}h=e.shouldUnregister?n.keepDefaultValues?$(d):{}:f,b.array.next({values:y}),b.watch.next({values:y})}v={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!_.mount&&i(),_.mount=!D.isValid||!!n.keepIsValid,_.watch=!!e.shouldUnregister,b.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!!(n.keepDefaultValues&&!G(t,d)),isSubmitted:n.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&t?De(d,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Ne=(t,n)=>Pe(Y(t)?t(h):t,n),ht=(t,n={})=>{const a=c(u,t),f=a&&a._f;if(f){const y=f.refs?f.refs[0]:f.ref;y.focus&&(y.focus(),n.shouldSelect&&y.select())}};return Y(s.defaultValues)&&s.defaultValues().then(t=>{Ne(t,s.resetOptions),b.state.next({isLoading:!1})}),{control:{register:Fe,unregister:Ae,getFieldState:Me,_executeSchema:I,_focusError:Be,_getWatch:R,_getDirty:m,_updateValid:M,_removeUnmounted:F,_updateFieldArray:O,_getFieldArray:W,_reset:Pe,_subjects:b,_proxyFormState:D,get _fields(){return u},get _formValues(){return h},get _stateFlags(){return _},set _stateFlags(t){_=t},get _defaultValues(){return d},get _names(){return v},set _names(t){v=t},get _formState(){return r},set _formState(t){r=t},get _options(){return s},set _options(t){s={...s,...t}}},trigger:be,register:Fe,handleSubmit:dt,watch:ft,setValue:K,getValues:Ue,reset:Ne,resetField:yt,clearErrors:ot,unregister:Ae,setError:ct,setFocus:ht,getFieldState:Me}}function Pt(e={}){const i=k.useRef(),[s,l]=k.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...Ut(e,()=>l(u=>({...u}))),formState:s});const r=i.current.control;return r._options=e,Ce({subject:r._subjects.state,next:u=>{Ze(u,r._proxyFormState,!0)&&(r._formState={...r._formState,...u},l({...r._formState}))}}),k.useEffect(()=>{r._stateFlags.mount||(r._proxyFormState.isValid&&r._updateValid(),r._stateFlags.mount=!0),r._stateFlags.watch&&(r._stateFlags.watch=!1,r._subjects.state.next({})),r._removeUnmounted()}),k.useEffect(()=>{e.values&&!G(e.values,r._defaultValues)&&r._reset(e.values,r._options.resetOptions)},[e.values,r]),k.useEffect(()=>{s.submitCount&&r._focusError()},[r,s.submitCount]),i.current.formState=Ye(s,r),i.current}export{Bt as C,Vt as a,c as g,w as s,Pt as u};
